<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Dragoberto's 60s</title>
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" href="main.css" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/tizzle/aframe-orbit-controls-component/master/dist/aframe-orbit-controls-component.min.js"></script>
    <script src="js/main.js"></script>
  </head>

  <body>
    <div id="embeddedScene">
      <a-scene
        background="color: #FAFAFA"
        vr-mode-ui="enabled: false"
        loading-screen="dotsColor: red; backgroundColor: black"
      >
        <a-assets>
          <!-- IMAGES -->
          <img id="introBerto" src="images/berto.JPG" />
          <img id="introFunghi" src="images/funghi.png" />
          <img id="introCibo" src="images/cibo.png" />
          <img id="moto" src="images/moto.JPG" />
          <img id="famiglia" src="images/famiglia.JPG" />
          <img id="jacopo" src="images/jacopo.JPG" />
          <img id="riccardo" src="images/riccardo.png" />
          <img id="dragoberto" src="images/dragoberto.JPG" />

          <!-- MODELS -->
          <a-asset-item id="skiModel" src="models/ski1.glb"></a-asset-item>
          <a-asset-item id="bike1Model" src="models/bike1.glb"></a-asset-item>
          <a-asset-item id="bike2Model" src="models/bike2.glb"></a-asset-item>
          <a-asset-item id="bike3Model" src="models/bike3.glb"></a-asset-item>
          <a-asset-item id="bike4Model" src="models/bike4.glb"></a-asset-item>
        </a-assets>

        <!-- Orbit Camera -->
        <a-entity
          id="camera"
          camera
          position="0 0 50"
          orbit-controls="
             autoRotate: false;
             target: #camera-target;
             enableDamping: true;
             dampingFactor: 0.25;
             rotateSpeed:0.14;
             minDistance:3;
             maxDistance:15;"
          mouse-cursor="pointerLockEnabled = true"
        >
        </a-entity>

        <a-entity id="camera-target" position="0 3 0"></a-entity>

        <a-text
          value="Auguri Umberto!"
          font="https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json"
          align="center"
          shader="msdf"
          color="#342E37"
          position="0 180 -200"
          scale="100 100 0"
        ></a-text>

        <!-- INTRO [SKI] -->
        <a-entity
          id="modelIntro"
          gltf-model="#skiModel"
          lambert="color: #FF495C"
          animation="
          property: object3D.rotation.y;
          from: -30;
          to: 30; 
          dur: 20000; 
          dir: alternate;
          easing: easeInOutQuad;
          loop: true"
        >
          <!-- FUNGHI -->
          <a-entity position="0 2.5 1" rotation="-10 15 16" scale="2 2 2">
            <!-- Text Container -->
            <a-entity position="1.3 1.7 0.1" scale="5 5 5">
              <a-entity
                text="
                  value: ''Eravamo dalle parti di Barstow,
                  ai confini del deserto,
                  quando le droghe cominciarono a fare effetto.''; 
                  color: #342E37; 
                  shader: msdf; 
                  font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                  align: left"
                position="0 0 .2"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#fee440"
              shader="flat"
              position="0 0 .7"
              scale="1.9 2.4 .1"
            >
              <a-image
                src="#introFunghi"
                position="0 0 .54"
                scale=".95 .95 .95"
              ></a-image
            ></a-box>
          </a-entity>

          <!-- PRIMO PIANO -->
          <a-entity position="-1.4 3 -.5" rotation="-30 -140 3" scale="2 2 2">
            <!-- Text Container -->
            <a-entity position="1.3 1.3 0.1" scale="5 5 5">
              <a-entity
                text="
                    value: ''Hai varcato la linea!''; 
                    color: #342E37; 
                    shader: msdf; 
                    font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                    align: left"
                position="0 0 .2"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#256EFF"
              shader="flat"
              position="0 0 .7"
              scale="2.56806 1.93087 .1"
            >
              <a-image
                src="#introBerto"
                position="0 0 .54"
                scale=".95 .95 .95"
              ></a-image
            ></a-box>
          </a-entity>

          <!-- CIBO -->
          <a-entity
            position="1.4 7 -.8"
            rotation="-30 130 3"
            scale="1.5 1.5 1.5"
          >
            <!-- Text Container -->
            <a-entity position="1.6 1.5 0.1" scale="5 5 5">
              <a-entity
                text="
                    value: ''Cinque minuti Turco!''
                    ''Hai detto due minuti
                    cinque minuti fa...''; 
                    color: #342E37; 
                    shader: msdf; 
                    font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                    align: left"
                position="0 0 .2"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#3DDC97"
              shader="flat"
              position="0 0 .7"
              scale="1.9 2.4 .1"
            >
              <a-image src="#introCibo" position="0 0 .54" scale=".95 .95 .95">
              </a-image
            ></a-box>
          </a-entity>
        </a-entity>

        <!-- BIKE ONE [MOTO] -->
        <a-entity
          id="modelMoto"
          gltf-model="#bike1Model"
          visible="false"
          lambert="color: #2b2d42"
          animation="
            property: object3D.rotation.y;
            from: -30
            to: 30; 
            dur: 10000; 
            dir: alternate;
            easing: easeInOutQuad;
            loop: true"
        >
          <a-entity position="-2 3 0.00001" rotation="-43 0 10" scale="2 2 2">
            <!-- Text Header -->
            <a-entity position="1.2 1.5 0.1" scale="5 5 5">
              <a-entity
                text="
                    value: ''Come tuo avvocato ti consiglio
                    di noleggiare una decappottabile velocissima.''; 
                    color: #342E37; 
                    shader: msdf; 
                    font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                    align: left"
                position="0 0 .21"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#d90429"
              shader="flat"
              position="0 0 .7"
              scale="2.56806 1.93087 .1"
            >
              <a-image src="#moto" position="0 0 .54" scale=".95 .95 .95">
              </a-image
            ></a-box>
          </a-entity>
        </a-entity>

        <!-- BIKE TWO [FAMIGLIA] -->
        <a-entity
          id="modelFamiglia"
          gltf-model="#bike2Model"
          visible="false"
          position="0 0 0"
          rotation="0 0 0"
          scale="1 1 1"
          lambert="color: #0081a7"
          animation="
          property: object3D.rotation.y;
          from: -30
          to: 30; 
          dur: 10000; 
          dir: alternate;
          easing: easeInOutQuad;
          loop: true"
        >
          <a-entity position="0 1.3 -.7" rotation="-23 180 10" scale="2 2 2">
            <!-- Text Header -->
            <a-entity position="2.9 1.5 0.1" scale="6 6 6">
              <a-entity
                text="
                    value: Gli anni passano
                    le compagnie restano...; 
                    color: #342E37; 
                    shader: msdf; 
                    font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                    align: left"
                position="0 0 .11"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#f07167"
              shader="flat"
              position="0 0 .7"
              scale="2.56806 1.93087 .1"
            >
              <a-image
                src="#famiglia"
                position="0 0 .54"
                scale=".95 .95 .95"
              ></a-image
            ></a-box>
          </a-entity>
        </a-entity>

        <!-- BIKE THREE [JACOPO e RICCARDO] -->
        <a-entity
          id="modelJacopo"
          gltf-model="#bike3Model"
          visible="false"
          position="1 0 0"
          rotation="0 0 0"
          scale="1 1 1"
          lambert="color: #9FD356"
          animation="
            property: object3D.rotation.y;
            from: -30
            to: 30; 
            dur: 10000; 
            dir: alternate;
            easing: easeInOutQuad;
            loop: true"
        >
          <!-- JACOPO -->
          <a-entity position="-.5 1.5 .1" rotation="0 180 10">
            <!-- Text Header -->
            <a-entity position="1.2 2 0.1" scale="6 6 6">
              <a-entity
                text="
                value:''Sai, fortunatamente io rispetto
                un regime di droghe piuttosto rigido 
                per mantenere la mente, diciamo, flessibile.''; 
                color: #342E37; 
                shader: msdf; 
                font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                align: left"
                position="0 0 .21"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#e63946"
              shader="flat"
              position="0 0 .7"
              scale="2.56806 1.93087 .1"
            >
              <a-image
                src="#jacopo"
                position="0 0 .54"
                scale=".95 .95 .95"
              ></a-image>
              <a-text></a-text>
            </a-box>
          </a-entity>

          <!-- RICCARDO -->
          <a-entity position="-1.3 1.5 -.7" rotation="0 0 7">
            <!-- Text Header -->
            <a-entity position="1.6 1.8 0.1" scale="6 6 6">
              <a-entity
                text="
               value: Tanto simili quanto diversi...
               ma comunque belli; 
               color: #342E37; 
               shader: msdf; 
               font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
               align: left"
                position="0 0 .21"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#3C91E6"
              shader="flat"
              position="0 0 .7"
              scale="1.9 2.56 .1"
            >
              <a-image
                src="#riccardo"
                position="0 0 .54"
                scale=".95 .95 .95"
              ></a-image>
              <a-text></a-text>
            </a-box>
          </a-entity>
        </a-entity>

        <!-- BIKE FOUR [DRAGOBERTO] -->
        <a-entity
          id="modelDragoberto"
          gltf-model="#bike4Model"
          visible="false"
          position="0 0 0"
          rotation="0 0 0"
          scale="1 1 1"
          lambert="color: #4ecdc4"
          animation="
            property: object3D.rotation.y;
            from: -30
            to: 30; 
            dur: 10000; 
            dir: alternate;
            easing: easeInOutQuad;
            loop: true"
        >
          <a-entity
            position="-2.8 3 -.35"
            rotation="-20 -70 10"
            scale="1.5 1.5 1.5"
          >
            <!-- Text Header -->
            <a-entity position="1.2 1.5 0.1" scale="6 6 6">
              <a-entity
                text="
                    value: ''Stai per entrare in una valle di lacrime...''; 
                    color: #342E37; 
                    shader: msdf; 
                    font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/opensans/OpenSans-Light.json; 
                    align: center"
                position="0 0 .51"
              ></a-entity
            ></a-entity>

            <!-- Image Container -->
            <a-box
              color="#ff6b6b"
              shader="flat"
              position="0 0 .7"
              scale="2.56806 1.93087 .1"
            >
              <a-image
                src="#dragoberto"
                position="0 0 .54"
                scale=".95 .95 .95"
              ></a-image>
              <a-text></a-text>
            </a-box>
          </a-entity>
        </a-entity>
      </a-scene>
    </div>
    <div id="btn-container">
      <button
        id="continue-btn"
        onclick="changeModel()"
        ontouchend="
        changeModel();
        this.onclick=stickyBtnFix;"
      >
        Buon Compleanno!
      </button>
    </div>

    <script>
      // Call music start
      playMusic();

      // Call delay show button
      delayshowButton();
    </script>
  </body>
</html>
